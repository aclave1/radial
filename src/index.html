<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>

    <style>
        .circle {
            border-radius: 50%;
            height: 40px;
            width: 40px;
            background-color: red;
            position: absolute;
            overflow: hidden;
            padding: 10px;
            font-size: 2em;
        }
        img{
            height: 100%;
            width: 100%;
        }
    </style>

</head>
<body>
radial
<button id="up">up</button>
<button id="down">down</button>

<div  class="circle">1
</div>
<div  class="circle">2
</div>
<div  class="circle">3
</div>
<div  class="circle">4
</div>
<div  class="circle">5
</div>
<div  class="circle">6
</div>
<div  class="circle">7
</div>
<div  class="circle">8
</div>
<div  class="circle">9
</div>
<div  class="circle">0
</div>
<div  class="circle">0
</div>





</body>

<script>

    (function () {
        var screenHeight = window.innerHeight;
        var screenWidth = window.innerWidth;

        var wheelX = screenWidth/2;
        var wheelY = screenHeight/2;

        var circles = document.getElementsByClassName('circle');

        var upbtn = document.getElementById('up');
        var downbtn = document.getElementById('down');


        var i = 0;
        var accel = 0;
        var mouseDown = 0;


        var slowDown = function (delta) {

            accel = delta ? accel - delta : accel - 0.05;


            if(accel > 0){
                requestAnimationFrame(slowDown);
            }else{
                mouseDown = 0;
                accel = 0;
            }
        };

        var rotate = function(els,direction,cb){
            var numEls = els.length;

            var rads = 2 * Math.PI;

            var elDegrees = rads/numEls;

            accel =  (accel  > .07) ? accel: accel  + .005 ;


            i += direction > 0 ? direction + accel : direction - accel;


            for(var k = 0;k<els.length;k++){
                var _el = els[k];
                var x = Math.cos(i + k * elDegrees) * 200 + wheelX;
                var y = Math.sin(i + k * elDegrees) * 200 + wheelY;
                setPos(_el, x, y);
            }
            if(cb) cb();
            if (mouseDown === 1) {
                window.requestAnimationFrame(function(){
                    rotate(els,direction,cb);
                });
            }
        };

        setPos = function (el, left, top) {
            el.style.top = top + 'px';
            el.style.left = left + 'px';
        };

        upbtn.addEventListener('mousedown', function () {
            mouseDown = 1;
            window.requestAnimationFrame(function(){

                //rotateForward(circles);
                rotate(circles,0.02);

            });
        });

        window.addEventListener('mouseup', function () {
            requestAnimationFrame(function(){
                slowDown(0.5);
            });
        });

        downbtn.addEventListener('mousedown', function () {
            mouseDown = 1;
            window.requestAnimationFrame(function(){

                //rotateForward(circles);
                rotate(circles, -0.02);

            });

        });


        window.addEventListener('mousewheel',function(e){
            console.log('wheel');
            window.requestAnimationFrame(function(){
                mouseDown = 1;
                rotate(circles,e.deltaY/1000,function(){
                    slowDown(-0.000001);
                });

            });

        });




    })();

</script>

</html>